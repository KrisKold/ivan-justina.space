<!DOCTYPE html>
<html>
<title>–Ü–≤–∞–Ω & –Æ—Å—Ç–∏–Ω–∞</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="icon" href="favicon.ico" type="image/x-icon">
<style>
   body, h1, h2 {
        font-family: "Raleway", sans-serif
    }

    body, html {
        height: 100%
    }

    p {
        line-height: 2
    }

    .bgimg2 {
        min-height: 100%;
        background-position: center;
        background-size: cover;
    }


    .gallery-img {
        width: 100%;
        height: 1200px;
        border-radius: 10px;
        object-fit: cover;
    }

    .title {
        font-size: 62px;
    }


    @media only screen and (max-width: 1000px) {
        .gallery-img {
            height: 800px;
        }

        .title {
            font-size: 42px;
        }
    }

    @media only screen and (max-width: 770px) {
        .gallery-img {
            height: 500px;
        }
    }

    @media only screen and (max-width: 637px) {
        .gallery-img {
            height: 380px;
        }

        .title {
            font-size: 28px;
        }
    }

    @media only screen and (max-width: 500px) {
        .gallery-img {
            height: 380px;
        }

    }


    .bgimg2 {
        background-image: url("guest_name_bg.jpeg")
    }

    /* Fading animation */
    .fade {
        -webkit-animation-name: fade;
        -webkit-animation-duration: 3s;
        animation-name: fade;
        animation-duration: 3s;
    }

    @-webkit-keyframes fade {
        from {
            opacity: .4
        }
        to {
            opacity: 1
        }
    }

    @keyframes fade {
        from {
            opacity: .4
        }
        to {
            opacity: 1
        }
    }

    .bg-image {
        /* The image used */
        background-image: url("header_img.jpeg");


        /* Full height */
        height: 100%;

        /* Center and scale the image nicely */
        background-position: center top;
        background-repeat: no-repeat;
        background-size: cover;
    }

    /* Position text in the middle of the page/image */
    .bg-text {
        background-color: rgb(0, 0, 0); /* Fallback color */
        background-color: rgba(0, 0, 0, 0.4); /* Black w/opacity/see-through */
        color: white;
        font-weight: bold;
        border: 3px solid #f1f1f1;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 2;
        width: 80%;
        padding: 20px;
        text-align: center;
    }
</style>
<body>
<div class="bg-image"></div>
<header class="bg-text w3-display-container w3-wide">
    <h2 class="title">–Ü–≤–∞–Ω & –Æ—Å—Ç–∏–Ω–∞</h2>
    <h1 class="w3-large">–ú–∏ –æ–¥—Ä—É–∂—É—î–º–æ—Å—è</h1>
    <p>13 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2022</p>
</header>

<!-- Navbar (sticky bottom) -->
<div class="w3-bottom w3-hide-small">
    <div class="w3-bar w3-white w3-center w3-padding w3-opacity-min w3-hover-opacity-off">
        <a href="#us" style="width:33%" class="w3-bar-item w3-button">–Ü–≤–∞–Ω & –Æ—Å—Ç–∏–Ω–∞</a>
        <a href="#wedding" style="width:33%" class="w3-bar-item w3-button">–í–µ—Å—ñ–ª—å–Ω–∞ –¶–µ—Ä–µ–º–æ–Ω—ñ—è</a>
        <a href="#invitation" style="width:33%" class="w3-bar-item w3-button w3-hover-black">–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—è</a>
    </div>
</div>

<!-- About / Jane And John -->
<div class="w3-container w3-padding-64 w3-sand" id="us">
    <div class="w3-content w3-justify w3-text-grey w3-padding-32">
        <h1 class="w3-center w3-text-grey">–Ü–≤–∞–Ω & –Æ—Å—Ç–∏–Ω–∞</h1>
        <h2 class="w3-center w3-text-grey">–ú–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ —Å—ñ–º'—é ü•∞</h2>
        <hr class="w3-opacity">
        <div id="gallery-img"></div>
        <p class="w3-text-black">  
            <i>
                –ù–µ–∑–∞–±–∞—Ä–æ–º –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è —Ü–µ –Ω–µ–ø–æ–≤—Ç–æ—Ä–Ω–µ —Ç–∞ –Ω–µ–∑–∞–±—É—Ç–Ω—î —Å–≤—è—Ç–æ - –Ω–∞—à–µ –≤–µ—Å—ñ–ª–ª—è.<br/>
                –ú–∏ –≤—ñ—Ä–∏–º–æ, —â–æ —Ü–µ–π –¥–µ–Ω—å —Å—Ç–∞–Ω–µ –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–Ω–∏–º –ø–æ—á–∞—Ç–∫–æ–º –¥–æ–≤–≥–æ–≥–æ —Ç–∞ —â–∞—Å–ª–∏–≤–æ–≥–æ –∂–∏—Ç—Ç—è.<br/>
                –¢–æ–º—É, –º–∏ —Ö–æ—á–µ–º–æ —Ä–æ–∑–ø–æ—á–∞—Ç–∏ –Ω–∞—à–µ –ø–æ–¥—Ä—É–∂–Ω—î –∂–∏—Ç—Ç—è –ø–æ—Ä—É—á —ñ–∑ —Å–∞–º–∏–º–∏ –±–ª–∏–∑—å–∫–∏–º–∏ —Ç–∞ –Ω–∞–π—Ä—ñ–¥–Ω—ñ—à–∏–º–∏ –ª—é–¥—å–º–∏.<br/>
                <b id="name-span"></b>, –º–∏ –±—É–¥–µ–º–æ —â–∞—Å–ª–∏–≤—ñ, —è–∫—â–æ –≤–∏ –∑–º–æ–∂–µ—Ç–µ —Å—Ç–∞—Ç–∏ —á–∞—Å—Ç–∏–Ω–∫–æ—é –Ω–∞—à–æ–≥–æ —Å–≤—è—Ç–∞.</i>
            </p>
        </p><br>
        <p class="w3-center"><a href="#wedding" class="w3-button w3-black w3-round w3-padding-large w3-large">–î–µ—Ç–∞–ª—ñ
            –≤–µ—Å—ñ–ª–ª—è</a></p>
    </div>
</div>

<!-- Background photo -->
<div class="w3-display-container bgimg2">
    <div class="w3-display-middle w3-text-white w3-center bg-text">
        <h1 class="title" id="name-title"></h1>
        <h3 id="personal-text"></h3>
    </div>
</div>

<!-- Wedding information -->
<div class="w3-container w3-padding-32 w3-pale-green w3-grayscale-min w3-center" id="wedding">
    <div class="w3-content">
        <div class="w3-row">
            <div class="w3-half" style="margin-top: 24px">
                <div id="slide-show"></div>
                <img class="w3-round-large w3-grayscale-min" src="wedding-ceremony.jpg" style="width:95%">
                <h2>–í–µ—Å—ñ–ª—å–Ω–∞ –¶–µ—Ä–µ–º–æ–Ω—ñ—è</h2>
                <p>–ö–æ–ª–∏: <b>13 –ª–∏—Å—Ç–æ–ø–∞–¥–∞, 12:00 - 13:00</b></p>
                <p>–î–µ: <b>–≤—É–ª. 17 –í–µ—Ä–µ—Å–Ω—è  59, —Å. –°–µ–ª–µ—Ü—å</b></p>
            </div>
            <div class="w3-half" style="margin-top: 24px">
                <img class="w3-round-large w3-grayscale-min"  src="wedding_location.jpg" style="width:95%;">
                <h2>–°–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è</h2>
                <p>–ö–æ–ª–∏: <b>13 –ª–∏—Å—Ç–æ–ø–∞–¥–∞, 14:00 - 17:00</b></p>
                <p>–î–µ: <b>–ö–∞—Ñ–µ "–ú–ª–∏–Ω", –º. –î—É–±—Ä–æ–≤–∏—Ü—è</b></p>
            </div>
        </div>
        <br><br>
        <p style="text-align: left;"><i>
            ü§© –ú–∏ —Ö–æ—á–µ–º–æ, —â–æ–± –Ω–∞—à–µ —Å–≤—è—Ç–æ –±—É–ª–æ —Å—ñ–º–µ–π–Ω–∏–º —Ç–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–∏–º.
            –ë—É–¥–µ–º–æ —â–∞—Å–ª–∏–≤—ñ, —è–∫—â–æ –≤–∏ —Ä–æ–∑–¥—ñ–ª–∏—Ç–µ –∑ –Ω–∞–º–∏ —Å–≤—è—Ç–æ –Ω–∞—à–æ—ó —Å—ñ–º‚Äô—ó.<br/><br/>
            –¢—Ä–æ—Ö–∏ –ø—ñ–∑–Ω—ñ—à–µ –º–∏ –ø—Ä–∏—à–ª–µ–º–æ –¥–µ—Ç–∞–ª—å–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É –≤–µ—Å—ñ–ª—å–Ω–æ—ó —Ü–µ—Ä–µ–º–æ–Ω—ñ—ó.
            –î–ª—è —Ü—å–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ª–∏—à–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —Å–≤–æ—é –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å üòá<br/>
        </i></p>
    </div>
</div>


<!-- –ó–ê–ü–†–û–®–ï–ù–ù–Ø section -->
<div class="w3-container w3-padding-64 w3-sand w3-center w3-wide" style="padding-bottom: 102px!important;"
     id="invitation">
    <h1>–°–ü–û–î–Ü–í–ê–Ñ–ú–û–°–¨, –í–ò –ó–ú–û–ñ–ï–¢–ï –ë–£–¢–ò –ó –ù–ê–ú–ò!</h1>
    <p class="w3-large">–ë—É–¥—å –ª–∞—Å–∫–∞, –¥–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –¥–æ 5 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2022 —Ä–æ–∫—É</p>
    <p class="w3-xlarge">
        <button
                onclick="document.getElementById('form-invitation-modal').style.display='block'"
                id="answer-btn"
                class="w3-button w3-round w3-red w3-opacity w3-hover-opacity-off" style="padding:8px 60px">

        </button>
    </p>
</div>

<!-- –ó–ê–ü–†–û–®–ï–ù–ù–Ø modal -->
<div id="form-invitation-modal" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-zoom" id="form-invitation-content"
         style="padding:32px;max-width:600px; margin-top: 20px">
        <div class="w3-container w3-white">
            <h2 class="w3-wide w3-center">–í–ò –ó–ú–û–ñ–ï–¢–ï –ë–£–¢–ò?</h2>
            <p class="w3-center" id="form-invitation-sh"></p>
            <form>
                <label class="w3-text-grey">–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω</label>
                <input class="w3-input w3-border" type="tel" id="phone-input" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω..." name="phone">
                <br/>
            </form>
            <p class="w3-center"><i>–ó –ø–æ–≤–∞–≥–æ—é, –Ü–≤–∞–Ω & –Æ—Å—Ç–∏–Ω–∞</i></p>
            <div class="w3-row">
                <div class="w3-half" style="margin-top: 8px">
                    <button type="button" id="submit-yes-button" class="w3-button w3-block w3-green"></button>
                </div>
                <div class="w3-half" style="margin-top: 8px">
                    <button type="button" id="submit-no-button" class="w3-button w3-block w3-red"></button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –ó–ê–ü–†–û–®–ï–ù–ù–Ø –ø–æ–¥—è–∫–∞ modal -->
<div id="form-thanks-invitation-modal" class="w3-modal">
    <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="padding:32px;max-width:600px;margin-top: 20px">
        <div class="w3-container w3-white w3-center">
            <h1 class="w3-wide" id="thanks-header"></h1>
            <p  id="thanks-subheader">–í–∞—à–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞</p>
        </div>
    </div>
</div>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    function getRandomIntInclusive(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1) + min);
    }
</script>

<script>
    const urStr = window.location.href;
    const url = new URL(urStr);
    const name = url.searchParams.get("name") || 'null!';
    const phone = url.searchParams.get("phone") || '';
    const multiply = url.searchParams.get("m") === 'true'
    const personal = url.searchParams.get("t") || '–ó–∞–ø—Ä–æ—à—É—î–º–æ –Ω–∞ –≤–µ—Å—ñ–ª—å–Ω—É —Ü–µ—Ä–µ–º–æ–Ω—ñ—é!'

    const invitationModal = document.getElementById('form-invitation-modal')


    document.getElementById('name-span').innerText = name;
    document.getElementById('name-title').innerText = name + '!';
    document.getElementById('personal-text').innerText = personal;
    document.getElementById('thanks-header').innerText = name + '! –î—è–∫—É—î–º–æ!';
    document.getElementById('form-invitation-sh').innerText = (name + '! –ú–∏ —Å–ø–æ–¥—ñ–≤–∞—î–º–æ—Å—å –≤–∏ –∑–º–æ–∂–µ—Ç–µ –ø—Ä–∏—ó—Ö–∞—Ç–∏.');
    document.getElementById('phone-input').value = phone;

    document.getElementById('submit-yes-button').innerText = multiply ? '–ë—É–¥–µ–º–æ' : '–ë—É–¥—É'
    document.getElementById('submit-no-button').innerText = multiply ? '–ù–µ –º–æ–∂–µ–º–æ –±—É—Ç–∏' : '–ù–µ –º–æ–∂—É –±—É—Ç–∏'

    document.getElementById('answer-btn').innerText = '–í–ê–®–ê –í–Ü–î–ü–û–í–Ü–î–¨'

    let imgNum

    function setImg() {
        let random = getRandomIntInclusive(1, 21)


        if (random === imgNum) {
            random = getRandomIntInclusive(1, 21)
        }

        imgNum = random

        const src = "./img/" + imgNum + ".jpg"

        document.getElementById("gallery-img").innerHTML = '<img class="w3-round gallery-img fade" src=' + src + '>'
    }

    setImg()
    setInterval(setImg, 6000)

    function sendAnswer(data) {
        const url = "https://dzubak.com.ua/post_wedding_torchilo.php"

        const params = {
            name,
            phone: document.getElementById('phone-input').value,
            type: data.positiveAnswer ? '–ë—É–¥–µüéâüéâüéâ' : '–ù–µ –º–æ–∂–µ –±—É—Ç–∏üò≠üò≠üò≠',
        }

        axios.post(url, params, {
            headers: {
                "Access-Control-Allow-Origin": "https://kriskold.github.io"
            }
            }).then(function (response) {
                console.log(response);
                const answer = data.positiveAnswer ? '–ë—É–¥—Éüéâüéâüéâ' : '–ù–µ –º–æ–∂—É –±—É—Ç–∏üò≠üò´üò©ü•∫';

                invitationModal.style.display = 'none'
                document.getElementById('thanks-subheader').innerText = '–í–∞—à–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å "'+ answer +'" –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞'
                document.getElementById('form-thanks-invitation-modal').style.display = 'block'
            })
            .catch(function (error) {
                console.log(error);
            });
    }

    const yesBtn = document.getElementById('submit-yes-button')
    const noBtn = document.getElementById('submit-no-button')

    yesBtn.addEventListener('click', () => {
        sendAnswer({positiveAnswer: true})
    });

    noBtn.addEventListener('click', () => {
        sendAnswer({positiveAnswer: false})
    });

    document.body.addEventListener('click', () => {
        document.getElementById('form-thanks-invitation-modal').style.display = 'none'
    });


    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == invitationModal) {
            invitationModal.style.display = "none";
        }
    }
</script>

</body>
</html>
